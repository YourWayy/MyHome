{"ast":null,"code":"import { createElement, Fragment, createRef, PureComponent } from 'react';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nvar Star =\n/** @class */\nfunction () {\n  function Star(x, y, maxSpeed) {\n    this.width = 0.5;\n    this.x = x;\n    this.y = y;\n    this.slope = y / x;\n    this.opacity = 0;\n    this.speed = Math.max(Math.random() * maxSpeed, 1);\n  }\n\n  return Star;\n}();\n\nStar.prototype.createStar = function (x, y, maxSpeed) {\n  this.width = 0.5;\n  this.x = x;\n  this.y = y;\n  this.slope = y / x;\n  this.opacity = 0;\n  this.speed = Math.max(Math.random() * maxSpeed, 1);\n  return this;\n};\n\nStar.prototype.distanceTo = function (originX, originY) {\n  return Math.sqrt(Math.pow(originX - this.x, 2) + Math.pow(originY - this.y, 2));\n};\n\nStar.prototype.resetPosition = function (_x, _y, _maxSpeed) {\n  this.x = _x;\n  this.y = _y;\n  this.opacity = 0;\n  this.maxSpeed = _maxSpeed;\n  return this;\n};\n/**\r\n * StarField\r\n * @param {sizeMe} containerSize size of the container\r\n * @param {scale} number upscale canvas drawing\r\n */\n\n\nvar StarField =\n/** @class */\nfunction () {\n  function StarField(state, scale, starColor) {\n    this.canvasWidth = state.containerWidth / scale;\n    this.canvasHeight = state.containerHeight / scale;\n    this.stars = [];\n    this.scale = scale;\n    this.starColor = starColor;\n    return this;\n  }\n\n  return StarField;\n}();\n/**\r\n * Star Factory\r\n * @type {Object}\r\n */\n\n\nvar StarFactory = {\n  /**\r\n   * Returns a random star within a region of the space.\r\n   *\r\n   * @param  {number} minX coordinate of the region\r\n   * @param  {number} minY coordinate of the region\r\n   * @param  {number} maxX coordinate of the region\r\n   * @param  {number} maxY coordinate of the region\r\n   *\r\n   * @return {Star} The random star\r\n   */\n  getRandomStar: function (minX, minY, maxX, maxY, maxSpeed) {\n    var coords = StarFactory.getRandomPosition(minX, minY, maxX, maxY);\n    return new Star(coords.x, coords.y, maxSpeed);\n  },\n\n  /**\r\n   * Gets a random (x,y) position within a bounding box\r\n   *\r\n   *\r\n   * @param  {number} minX coordinate of the region\r\n   * @param  {number} minY coordinate of the region\r\n   * @param  {number} maxX coordinate of the region\r\n   * @param  {number} maxY coordinate of the region\r\n   *\r\n   * @return {Object} An object with random {x, y} positions\r\n   */\n  getRandomPosition: function (minX, minY, maxX, maxY) {\n    return {\n      x: Math.floor(Math.random() * maxX + minX),\n      y: Math.floor(Math.random() * maxY + minY)\n    };\n  }\n};\n\nStarField.prototype._updateStarField = function () {\n  var i, star, randomLoc, increment;\n\n  for (i = 0; i < this.numStars; i++) {\n    star = this.stars[i];\n    increment = Math.min(star.speed, Math.abs(star.speed / star.slope));\n    star.x += star.x > 0 ? increment : -increment;\n    star.y = star.slope * star.x;\n    star.opacity += star.speed / 150;\n    star.opacity += star.speed / 150;\n\n    if (Math.abs(star.x) > this.canvasWidth / 2 || Math.abs(star.y) > this.canvasHeight / 2) {\n      randomLoc = StarFactory.getRandomPosition(-this.canvasWidth / 10, -this.canvasHeight / 10, this.canvasWidth / 5, this.canvasHeight / 5);\n      star.resetPosition(randomLoc.x, randomLoc.y, this.maxStarSpeed);\n    }\n  }\n};\n/**\r\n * Init scene by resizing the canvas to the appropriate value, and\r\n * set up main loop\r\n * @param {int} numStars Number of stars in our starfield\r\n */\n\n\nStarField.prototype._initScene = function (numStars) {\n  var i;\n\n  for (i = 0; i < numStars; i++) {\n    try {\n      this.stars.push(StarFactory.getRandomStar(-this.canvasWidth / 2, -this.canvasHeight / 2, this.canvasWidth, this.canvasHeight, this.maxStarSpeed));\n    } catch (_a) {}\n  }\n};\n/**\r\n * Start Everything\r\n * @param {int} numStars Number of stars to render\r\n * @param {int} maxStarSpeed maximum star speed\r\n */\n\n\nStarField.prototype.render = function (numStars, maxStarSpeed) {\n  this.numStars = numStars;\n  this.maxStarSpeed = maxStarSpeed;\n\n  this._initScene(this.numStars);\n};\n\nvar raf = require('raf');\n\nvar BigBangStarField =\n/** @class */\nfunction (_super) {\n  __extends(BigBangStarField, _super);\n\n  function BigBangStarField(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._tick = function () {\n      _this.starField._updateStarField();\n\n      _this._draw();\n\n      _this._tickRaf = raf(_this._tick);\n    };\n\n    _this.containerRef = createRef();\n    _this.canvasRef = createRef();\n    if (typeof window == 'undefined') global.window = new Object();\n    _this.state = {\n      containerWidth: 0,\n      containerHeight: 0\n    };\n    _this.updateContainerDimensions = _this.updateContainerDimensions.bind(_this);\n    return _this;\n  }\n\n  BigBangStarField.prototype.componentDidMount = function () {\n    this.ctx = this.canvasRef.current.getContext('2d');\n    this.state = {\n      containerWidth: this.containerRef.current.offsetWidth,\n      containerHeight: this.containerRef.current.offsetHeight\n    };\n    this.starField = new StarField(this.state, this.props.scale, this.props.starColor);\n    this.starField.render(this.props.numStars, this.props.maxStarSpeed);\n    this.updateContainerDimensions();\n    window.addEventListener('resize', this.updateContainerDimensions);\n\n    this._tick();\n  };\n\n  BigBangStarField.prototype.componentWillUnmount = function () {\n    raf.cancel(this._tickRaf);\n    window.removeEventListener('resize', this.updateContainerDimensions);\n  };\n\n  BigBangStarField.prototype.updateContainerDimensions = function () {\n    this.state = {\n      containerWidth: this.containerRef.current.offsetWidth,\n      containerHeight: this.containerRef.current.offsetHeight\n    };\n    this.starField.state = this.state;\n    this.canvasRef.current.height = this.state.containerHeight;\n    this.canvasRef.current.width = this.state.containerWidth;\n    this.starField.canvasWidth = this.state.containerWidth / this.props.scale;\n    this.starField.canvasHeight = this.state.containerHeight / this.props.scale;\n    this.ctx.scale(this.props.scale, this.props.scale);\n  };\n\n  BigBangStarField.prototype.render = function () {\n    var _a = this.props,\n        numStars = _a.numStars,\n        maxStarSpeed = _a.maxStarSpeed,\n        size = _a.size,\n        scale = _a.scale,\n        style = _a.style,\n        starColor = _a.starColor,\n        rest = __rest(_a, [\"numStars\", \"maxStarSpeed\", \"size\", \"scale\", \"style\", \"starColor\"]);\n\n    var div = createElement(Fragment, null, createElement(\"div\", __assign({\n      className: 'BigBangStarFieldContainer',\n      ref: this.containerRef,\n      style: __assign({\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden'\n      }, style)\n    }, rest), createElement(\"canvas\", {\n      ref: this.canvasRef,\n      width: this.state.containerWidth,\n      height: this.state.containerHeight\n    })));\n    return div;\n  };\n\n  BigBangStarField.prototype._draw = function () {\n    var ctx = this.ctx;\n    var starField = this.starField;\n    var i, star;\n    var width = starField.canvasWidth;\n    var height = starField.canvasHeight;\n    ctx.clearRect(0, 0, width, height);\n\n    for (i = 0; i < starField.numStars; i++) {\n      star = starField.stars[i];\n      ctx.fillStyle = \"rgba(\" + starField.starColor + \", \" + star.opacity + \")\";\n      ctx.beginPath();\n      ctx.arc(star.x + width / 2, star.y + height / 2, star.width, 0, 2 * Math.PI, true);\n      /** this is might expensive\r\n       ctx!.shadowColor = '#00ff00';\r\n       ctx!.shadowBlur = 20;\r\n       ctx!.shadowOffsetX = 0;\r\n       ctx!.shadowOffsetY = 0;\r\n       **/\n\n      ctx.fill();\n      ctx.closePath();\n    }\n  };\n\n  BigBangStarField.defaultProps = {\n    numStars: 333,\n    maxStarSpeed: 1,\n    scale: 4,\n    style: {},\n    starColor: \"217, 130, 244\"\n  };\n  return BigBangStarField;\n}(PureComponent);\n\nexport default BigBangStarField;","map":{"version":3,"sources":["../node_modules/tslib/tslib.es6.js","../src/Star.ts","../src/StarField.ts","../src/index.tsx"],"names":["React.createElement"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export class Star {\n  x: number\n  y: number\n  maxSpeed: number\n  slope: number\n  opacity: number\n  speed: number\n  width: number\n  starColor: string\n  createStar: (this: Star, x: number, y: number, maxSpeed: number) => Star;\n  distanceTo: (this: Star, originX: number, originY: number) => number;\n  resetPosition: (_x: number, _y: number, _maxSpeed: number) => Star;\n  constructor(x: number, y: number, maxSpeed: number) {\n    this.width = 0.5;\n    this.x = x;\n    this.y = y;\n    this.slope = y / x;\n    this.opacity = 0;\n    this.speed = Math.max(Math.random() * maxSpeed, 1);\n  }\n}\nStar.prototype.createStar = function(x: number, y: number, maxSpeed: number){\n  this.width = 0.5;\n  this.x = x;\n  this.y = y;\n  this.slope = y / x;\n  this.opacity = 0;\n  this.speed = Math.max(Math.random() * maxSpeed, 1);\n  return this;\n}\nStar.prototype.distanceTo = function(originX: number, originY: number){\n  return Math.sqrt(Math.pow(originX - this.x, 2) + Math.pow(originY - this.y, 2));\n}\nStar.prototype.resetPosition = function(_x: number,_y: number, _maxSpeed: number){\n  this.x = _x;\n  this.y = _y;\n  this.opacity = 0;\n  this.maxSpeed = _maxSpeed;\n  return this;\n};\n\n","import {Star} from \"./Star\";\n\n/**\n * StarField\n * @param {sizeMe} containerSize size of the container\n * @param {scale} number upscale canvas drawing\n */\nexport class StarField {\n  _updateStarField: () => void;\n  maxStarSpeed: number;\n  numStars: number;\n  stars: any;\n  _tick: any;\n  render: (numStars: number, maxStarSpeed: number) => void;\n  _initScene: (this: any, numStars: number) => void;\n  scale: number;\n  starColor: string;\n  canvasWidth: number;\n  canvasHeight: number;\n  state: any;\n  called: boolean;\n\n  constructor(state: any, scale: number, starColor: string) {\n    this.canvasWidth = state.containerWidth / scale;\n    this.canvasHeight = state.containerHeight / scale;\n    this.stars = [];\n    this.scale = scale;\n    this.starColor = starColor;\n    return this;\n  }\n}\n\n/**\n * Star Factory\n * @type {Object}\n */\nvar StarFactory = {\n  /**\n   * Returns a random star within a region of the space.\n   *\n   * @param  {number} minX coordinate of the region\n   * @param  {number} minY coordinate of the region\n   * @param  {number} maxX coordinate of the region\n   * @param  {number} maxY coordinate of the region\n   *\n   * @return {Star} The random star\n   */\n  getRandomStar: function (minX: number, minY: number, maxX: number, maxY: number, maxSpeed: number) {\n    let coords = StarFactory.getRandomPosition(minX, minY, maxX, maxY);\n    return new Star(coords.x, coords.y, maxSpeed);\n  },\n\n  /**\n   * Gets a random (x,y) position within a bounding box\n   *\n   *\n   * @param  {number} minX coordinate of the region\n   * @param  {number} minY coordinate of the region\n   * @param  {number} maxX coordinate of the region\n   * @param  {number} maxY coordinate of the region\n   *\n   * @return {Object} An object with random {x, y} positions\n   */\n  getRandomPosition: function (minX: number, minY: number, maxX: number, maxY: number) {\n    return {\n      x: Math.floor((Math.random() * maxX) + minX),\n      y: Math.floor((Math.random() * maxY) + minY)\n    };\n  }\n};\n\nStarField.prototype._updateStarField = function () {\n  var i,\n    star,\n    randomLoc,\n    increment;\n\n  for (i = 0; i < this.numStars; i++) {\n    star = this.stars[i];\n    increment = Math.min(star.speed, Math.abs(star.speed / star.slope));\n    star.x += (star.x > 0) ? increment : -increment;\n    star.y = star.slope * star.x;\n\n    star.opacity += star.speed / 150;\n    star.opacity += star.speed / 150;\n\n\n    if ((Math.abs(star.x) > this.canvasWidth / 2) ||\n      (Math.abs(star.y) > this.canvasHeight / 2)) {\n\n      randomLoc = StarFactory.getRandomPosition(\n        -this.canvasWidth / 10, -this.canvasHeight / 10,\n        this.canvasWidth / 5, this.canvasHeight / 5\n      );\n      star.resetPosition(randomLoc.x, randomLoc.y, this.maxStarSpeed);\n    }\n  }\n};\n/**\n * Init scene by resizing the canvas to the appropriate value, and\n * set up main loop\n * @param {int} numStars Number of stars in our starfield\n */\nStarField.prototype._initScene = function (this: any, numStars: number) {\n  var i;\n  for (i = 0; i < numStars; i++) {\n    try {\n      this.stars.push(\n        StarFactory.getRandomStar(-this.canvasWidth / 2, -this.canvasHeight / 2, this.canvasWidth, this.canvasHeight, this.maxStarSpeed)\n      );\n    } catch {\n    }\n  }\n};\n\n/**\n * Start Everything\n * @param {int} numStars Number of stars to render\n * @param {int} maxStarSpeed maximum star speed\n */\nStarField.prototype.render = function (numStars: number, maxStarSpeed: number) {\n  this.numStars = numStars;\n  this.maxStarSpeed = maxStarSpeed;\n  this._initScene(this.numStars);\n};\n","import * as React from 'react';\nimport {createRef, PureComponent} from \"react\";\nimport {StarField} from './StarField';\n\nconst raf = require('raf');\n\nexport interface Props {\n  numStars: number,\n  maxStarSpeed: number,\n  starOpacity?: number,\n  offsetX?: number,\n  offsetY?: number,\n  scale: number,\n  style?: object,\n  size: SizeMe,\n  canvasRef?: object,\n  backgroundImage?: string,\n  starColor: string\n}\n\nexport interface SizeMe {\n  width: number,\n  height: number\n}\ndeclare var global: any\nclass BigBangStarField extends PureComponent <Props> {\n  containerRef: React.RefObject<HTMLDivElement>;\n  canvasRef: React.RefObject<HTMLCanvasElement>;\n  state: { containerWidth: number; containerHeight: number }\n  starField: StarField;\n  private ctx: any;\n  _tickRaf: number;\n\n  constructor(props: Props) {\n    super(props);\n    this.containerRef = createRef();\n    this.canvasRef = createRef();\n    if (typeof(window) == 'undefined') global.window = new Object();\n    this.state = {containerWidth: 0, containerHeight: 0};\n    this.updateContainerDimensions = this.updateContainerDimensions.bind(this);\n\n  }\n\n  static defaultProps = {\n    numStars: 333,\n    maxStarSpeed: 1,\n    scale: 4,\n    style: {},\n    starColor: \"217, 130, 244\"\n  };\n\n  componentDidMount() {\n    this.ctx = this.canvasRef.current!.getContext('2d');\n    this.state = {containerWidth: this.containerRef.current!.offsetWidth, containerHeight: this.containerRef.current!.offsetHeight};\n    this.starField = new StarField(this.state, this.props.scale, this.props.starColor);\n    this.starField.render(this.props.numStars, this.props.maxStarSpeed);\n    this.updateContainerDimensions();\n    window.addEventListener('resize', this.updateContainerDimensions);\n    this._tick()\n  }\n\n  componentWillUnmount() {\n    raf.cancel(this._tickRaf)\n    window.removeEventListener('resize', this.updateContainerDimensions);\n  }\n\n  updateContainerDimensions() {\n    this.state = {containerWidth: this.containerRef.current!.offsetWidth, containerHeight: this.containerRef.current!.offsetHeight};\n    this.starField.state = this.state;\n    this.canvasRef.current!.height = this.state.containerHeight;\n    this.canvasRef.current!.width = this.state.containerWidth;\n    this.starField.canvasWidth  = this.state.containerWidth / this.props.scale;\n    this.starField.canvasHeight = this.state.containerHeight / this.props.scale;\n    this.ctx!.scale(this.props.scale, this.props.scale);\n  }\n\n  render() {\n    const {\n      numStars,\n      maxStarSpeed,\n      size,\n      scale,\n      style,\n      starColor,\n      ...rest\n    } = this.props\n    let div = <>\n      <div className={'BigBangStarFieldContainer'}\n           ref={this.containerRef}\n           style={{\n             width: '100%',\n             height: '100%',\n             overflow: 'hidden',\n             ...style\n           }}\n           {...rest}\n      >\n        <canvas\n          ref={this.canvasRef}\n          width={this.state.containerWidth}\n          height={this.state.containerHeight}\n        />\n      </div>\n    </>;\n    return div\n  }\n\n  _tick = () => {\n    this.starField._updateStarField();\n    this._draw()\n    this._tickRaf = raf(this._tick)\n  }\n\n  _draw() {\n    let ctx = this.ctx!;\n    let starField = this.starField;\n    var i,\n      star;\n    let width = starField.canvasWidth;\n    let height = starField.canvasHeight;\n    ctx!.clearRect(0, 0, width, height);\n    for (i = 0; i < starField.numStars; i++) {\n      star = starField.stars[i];\n      ctx!.fillStyle = \"rgba(\" + starField.starColor + \", \" + star.opacity + \")\";\n      ctx!.beginPath();\n      ctx!.arc(star.x + width / 2, star.y + height / 2, star.width, 0, 2 * Math.PI, true);\n      /** this is might expensive\n       ctx!.shadowColor = '#00ff00';\n       ctx!.shadowBlur = 20;\n       ctx!.shadowOffsetX = 0;\n       ctx!.shadowOffsetY = 0;\n       **/\n      ctx!.fill();\n      ctx!.closePath();\n    }\n  }\n}\n\nexport default BigBangStarField;\n"]},"metadata":{},"sourceType":"module"}